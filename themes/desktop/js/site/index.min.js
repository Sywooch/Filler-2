function LoginWindow(){$("#PlayerAuthorization").modal("show")}function ErrorSet(a){$("#AuthorizationError").html(a);$("#AuthorizationError").css({display:"block"});$(".form-group").addClass("has-error")}function ErrorReset(){""!=$("#AuthorizationError").html()&&$(".form-group").removeClass("has-error");$("#AuthorizationError").html("")}
$(document).ready(function(){$("form").validate({rules:{Email:{email:!0,required:!0},Password:{required:!0}},messages:{Email:{required:ERROR_MESSAGE[0],email:ERROR_MESSAGE[2]},Password:{required:ERROR_MESSAGE[1]}},highlight:function(a,b){$(a).add($(a).parent()).addClass("has-error")},unhighlight:function(a,b){$(a).add($(a).parent()).removeClass("has-error")},errorElement:"div",errorClass:"error-message text-14",errorPlacement:function(a,b){a.prependTo(b.parent("div"))},submitHandler:function(){$("#Loading").show();
$("form").ajaxSubmit({type:"POST",url:BASE_URL+"/site/login",dataType:"json",success:function(a){1==a?window.location.href=BASE_URL+"/game/game":($("#Loading").hide(),ErrorSet(a.ErrorMessage))},error:function(a,b,c){$("#Loading").hide()}})}});$("#Email").keydown(function(){ErrorReset()});$("#Password").keydown(function(){ErrorReset()})});
