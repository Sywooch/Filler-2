viewGameBoard=function(a){"undefined"!==typeof a.GameBoardID&&null!==a.GameBoardID&&(this.GameBoardID=a.GameBoardID);this.Prefix={FieldContainer:"FieldContainer",GamePad:"GamePad",Cell:"c-",Button:"Color"};this.ColorsListSet(a.Colors)||this.ColorsListSet("FF0000 00FF00 3355FF FFFF00 FF00FF FFFFFF 990000 3E5900 333399 EE7700 888890 9900DD FFBB88 00FFBB 4A4A4F 7C4600".split(" "));this.Size="undefined"!==typeof a.Size&&null!==a.Size?a.Size:{X:null,Y:null};this.CellSize;this.ColorMatrix};
viewGameBoard.prototype.FieldSizeSet=function(a,b){var c="";if("undefined"!==typeof a&&null!==a&&"undefined"!==typeof b&&null!==b){this.Size.X=parseInt(a,10);this.Size.Y=parseInt(b,10);for(var d=1;d<=a*b;d++)c+='<div class="GameTile " id="'+this.Prefix.Cell+d+'"></div>'}$("#"+this.Prefix.FieldContainer).html(c)};viewGameBoard.prototype.ColorsListSet=function(a){return"undefined"!==typeof a&&Array.isArray(a)&&6<=a.length?(this.Colors=a,!0):!1};viewGameBoard.prototype.ColorsListGet=function(){return this.Colors};
viewGameBoard.prototype.Repaint=function(a,b,c,d,e){var f=this;Array.isArray(a)&&$.each(a,function(a,b){f.CellColorSet(a+1,f.Colors[b-1])});Array.isArray(b)&&$.each(b,function(a,b){b?f.CellShapeSet(a+1):f.CellShapeReset(a+1)});"number"===typeof e&&this.HomeCellShapeSet(e);this.GamePadRefresh(c);this.GamePadProgressLablesRefresh(d);this.CellHighlightHide()};viewGameBoard.prototype.CellColorSet=function(a,b){$("#"+this.Prefix.Cell+a).css({"background-color":"#"+b})};
viewGameBoard.prototype.CellColorGet=function(a){return $("#"+this.Prefix.Cell+a).css("background-color")};viewGameBoard.prototype.CellShapeSet=function(a){$("#"+this.Prefix.Cell+a).css({"border-radius":"0px"})};
viewGameBoard.prototype.HomeCellShapeSet=function(a){1==a?$("#"+this.Prefix.Cell+a).css({"border-top-left-radius":"100%"}):a==this.Size.X?$("#"+this.Prefix.Cell+a).css({"border-top-right-radius":"100%"}):a==this.Size.X*this.Size.Y-this.Size.X+1?$("#"+this.Prefix.Cell+a).css({"border-bottom-left-radius":"100%"}):a==this.Size.X*this.Size.Y&&$("#"+this.Prefix.Cell+a).css({"border-bottom-right-radius":"100%"})};viewGameBoard.prototype.CellShapeReset=function(a){$("#"+this.Prefix.Cell+a).css({"border-radius":"4px"})};
viewGameBoard.prototype.GamePad=function(a,b){var c="";$("#"+this.Prefix.GamePad).html("");for(Index=1;Index<=a;Index++)c+='<div class="GameButton" id="'+this.Prefix.Button+Index+'" onClick="'+b+"("+Index+')"><div class="GameButton-Progress"></div></div>';$("#"+this.Prefix.GamePad).html(c);for(Index=1;Index<=a;Index++)$("#"+this.Prefix.Button+Index).css({"background-color":"#"+this.Colors[Index-1]})};
viewGameBoard.prototype.CellHighlightShow=function(a){var b=this;"undefined"!==typeof a&&Array.isArray(a)&&$.each(a,function(a,d){$("#"+b.Prefix.Cell+d).addClass("GameTile-Mask")})};viewGameBoard.prototype.CellHighlightHide=function(){$(".GameTile").removeClass("GameTile-Mask")};viewGameBoard.prototype.GamePadRefresh=function(a){var b=this;"undefined"!==typeof a&&Array.isArray(a)&&($(".GameButton-Disabled").removeClass("GameButton-Disabled"),$.each(a,function(a,d){$("#"+b.Prefix.Button+d).addClass("GameButton-Disabled")}))};
viewGameBoard.prototype.GamePadProgressLablesRefresh=function(a){var b=this;$.each(a,function(a,d){$("#"+b.Prefix.Button+(a+1)+" > div").html("+"+d)})};viewGameBoard.prototype.ButtonColorGet=function(a){return $("#"+this.Prefix.Button+a).css("background-color")};
viewGameBoard.prototype.SizeSet=function(a,b){var c=Math.floor(($("#"+this.GameBoardID).width()-20)/a);this.CellSize=c-2;var d=c*a+20,e=c*b+20;$("#"+this.Prefix.FieldContainer).css({width:d+"px",height:e+"px"});$(".GameTile").css({width:c-2+"px",height:c-2+"px"})};
