modelLobby=function(a){"undefined"!==typeof a.PlayerID&&null!==a.PlayerID&&(this.PlayerID=parseInt(a.PlayerID,10));"undefined"!==typeof a.URL&&null!==a.URL&&(this.URL=a.URL);"undefined"!==typeof a.ErrorTypes&&null!==a.ErrorTypes&&(this.ErrorTypes=a.ErrorTypes);this.Reset()};
modelLobby.prototype.Set=function(a){"undefined"!==typeof a&&"object"===typeof a&&(this.ID=a.ID,this.Name=a.Name,this.Date=a.Date,this.Timer=a.Timer,this.SizeX=a.SizeX,this.SizeY=a.SizeY,this.ColorsNumber=a.ColorsNumber,this.PlayersNumber=a.PlayersNumber,this.CreatorID=a.CreatorID,this.Active=a.Active,this.PlayersList="undefined"!==typeof a.PlayersList&&null!==a.PlayersList?a.PlayersList:[])};
modelLobby.prototype.Reset=function(){this.ID=0;this.Name="";this.Date=null;this.CreatorID=this.PlayersNumber=this.ColorsNumber=this.SizeY=this.SizeX=0;this.Active=!0;this.PlayersList=[]};
modelLobby.prototype.Create=function(a){var b=this;$.post(this.URL.Base+this.URL.Create,{PlayerID:this.PlayerID,Name:this.Name,SizeX:this.SizeX,SizeY:this.SizeY,ColorsNumber:this.ColorsNumber,PlayersNumber:this.PlayersNumber},function(c){b.ID=c.ID;b.Date=c.Date;b.Timer=c.Timer;b.PlayersList=c.PlayersList;"function"===typeof a&&a()},"json")};modelLobby.prototype.Load=function(a,b){var c=this;$.post(this.URL.Base+this.URL.Load,{LobbyID:a},function(a){c.Set(a);"function"===typeof b&&b()},"json")};
modelLobby.prototype.Join=function(a){var b=this;$.post(this.URL.Base+this.URL.Join,{PlayerID:this.PlayerID,LobbyID:this.ID},function(c){c.Error?c.Error!=b.ErrorTypes.ExpireError&&c.Error!=b.ErrorTypes.DataError&&console.log(b.URL.Base+b.URL.Join+" : Error = "+c.Error):(b.Set(c),"function"===typeof a&&a())},"json")};
modelLobby.prototype.Result=function(a){var b=this;$.post(this.URL.Base+this.URL.Result,{LobbyID:this.ID,PlayersNumber:this.PlayersList.length},function(c){c.Error?c.Error!=b.ErrorTypes.ExpireError&&c.Error!=b.ErrorTypes.DataError&&console.log(b.URL.Base+b.URL.Result+" : Error = "+c.Error):(b.Timer=c.Timer,b.Active=c.Active,b.PlayersList=c.PlayersList);"function"===typeof a&&a()},"json")};modelLobby.prototype.GetPlayersList=function(){return this.PlayersList};modelLobby.prototype.GetCreatorID=function(){return this.CreatorID};
modelLobby.prototype.isActive=function(){return this.Active};modelLobby.prototype.isFullPlayersList=function(){return Array.isArray(this.PlayersList)&&this.PlayersList.length==this.PlayersNumber?!0:!1};modelLobby.prototype.isPlayerIncluded=function(a){var b=!1;Array.isArray(this.PlayersList)&&$.each(this.PlayersList,function(c,d){d.ID==a&&(b=!0)});return b};
modelPlayer=function(a){"object"===typeof a.Player&&(this.ID=a.Player.ID,this.Name=a.Player.Name);"undefined"!==typeof a.URL&&null!==a.URL&&(this.URL=a.URL);"undefined"!==typeof a.ErrorTypes&&null!==a.ErrorTypes&&(this.ErrorTypes=a.ErrorTypes);"number"===typeof a.GameMarkerPeriod&&(this.GAME_MARKER_PERIOD=1E3*parseInt(a.GameMarkerPeriod,10));this.GameMarkerTimer=0;this.Statistics={TotalGames:0,WinGames:0,LoseGames:0,DrawGames:0,Rating:0}};
modelPlayer.prototype.StatisticsReload=function(a){var b=this;$.post(this.URL.Base+this.URL.PlayerStatistics,{PlayerID:this.ID},function(c){c.Error?c.Error!=b.ErrorTypes.DataError&&console.log(b.URL.Base+b.URL.PlayerStatistics+" : Error = "+c.Error):b.Statistics=c;"function"===typeof a&&a()},"json")};modelPlayer.prototype.GetID=function(){return this.ID};modelPlayer.prototype.GetName=function(){return this.Name};modelPlayer.prototype.SetStatistics=function(a){this.Statistics=a};
modelPlayer.prototype.GetStatistics=function(a){return"undefined"!==typeof this.Statistics[a]&&null!==this.Statistics[a]?this.Statistics[a]:this.Statistics};modelPlayer.prototype.GameMarkerSet=function(a){var b=this;$.post(this.URL.Base+this.URL.PlayerGameMarker,{PlayerID:this.ID},function(c){c.Error?console.log(b.URL.Base+b.URL.PlayerGameMarker+" : Error = "+c.Error):$.each(c,function(b,c){c||"function"!==typeof a||a()})},"json")};
modelPlayer.prototype.GameMarkerStart=function(a){this.GameMarkerTimer||(this.GameMarkerTimer=setInterval(this.GameMarkerSet.bind(this,a),this.GAME_MARKER_PERIOD))};modelPlayer.prototype.GameMarkerStop=function(){clearInterval(this.GameMarkerTimer);this.GameMarkerTimer=0};
modelCollection=function(a){"undefined"!==typeof a.PlayerID&&null!==a.PlayerID&&(this.PlayerID=parseInt(a.PlayerID,10));"undefined"!==typeof a.URL&&null!==a.URL&&(this.URL=a.URL);"function"===typeof a.Callback&&(this.Callback=a.Callback);"undefined"!==typeof a.ErrorTypes&&null!==a.ErrorTypes&&(this.ErrorTypes=a.ErrorTypes);this.TIMER_PERIOD="number"===typeof a.TimerPeriod?1E3*parseInt(a.TimerPeriod,10):1E4;this.List=[];this.Timer=0};
modelCollection.prototype.ListReload=function(){var a=this;$.post(this.URL.Base+this.URL.ListGet,{PlayerID:this.PlayerID},function(b){b.Error?console.log(a.URL.Base+a.URL.ListGet+" : Error = "+b.Error):(a.List=b,"function"===typeof a.Callback&&a.Callback())},"json")};modelCollection.prototype.ListRefreshStart=function(){this.ListReload();this.Timer||(this.Timer=setInterval(this.ListReload.bind(this),this.TIMER_PERIOD))};
modelCollection.prototype.ListRefreshStop=function(){clearInterval(this.Timer);this.Timer=0};modelCollection.prototype.ListGet=function(){return this.List};modelCollection.prototype.ItemGet=function(a){var b=!1;Array.isArray(this.List)&&$.each(this.List,function(c,d){d.ID==a&&(b=d)});return b};modelSound=function(){this.Mute=!1;this.Audio};modelSound.prototype.Play=function(a){this.Mute||(this.Audio=$("#"+a)[0],this.Audio.play())};modelSound.prototype.Stop=function(){this.Audio.pause()};
modelSound.prototype.Toggle=function(){this.Mute=!this.Mute};modelSound.prototype.On=function(){this.Mute=!1};modelSound.prototype.Off=function(){this.Mute=!0};modelTimer=function(a){this.Set(a);this.Timer=0};modelTimer.prototype.Set=function(a){this.CountdownMode="undefined"!==typeof a&&"boolean"===typeof a.Countdown?a.Countdown:!1;this.StartValue="undefined"!==typeof a&&"undefined"!==typeof a.StartValue?a.StartValue:this.CountdownMode?60:0};modelTimer.prototype.Get=function(){return this.Value};
modelTimer.prototype.Start=function(a){this.Set(a);this.Value=this.StartValue;var b=this;this.Timer||(this.Timer=setInterval(function(){b.CountdownMode?b.Value?b.Value--:b.Stop():b.Value++;"undefined"!==typeof a.Callback&&"function"===typeof a.Callback&&a.Callback()},1E3))};modelTimer.prototype.Stop=function(){clearInterval(this.Timer);this.Timer=0};
